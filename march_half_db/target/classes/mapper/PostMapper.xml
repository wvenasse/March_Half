<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.example.dao.PostDao">
    <insert id="addPost" parameterType="org.example.pojo.Post">
        insert into posts(postType,postTitle,postDetail,userName,openid,postTime,postLike,postLove,postView,postComment,postTop,postPop)
        values (#{postType},#{postTitle},#{postDetail},#{userName},
        #{openid},#{postTime},#{postLike},#{postLove},#{postView},#{postComment},,#{postTop},#{postPop})
    </insert>
    <delete id="delPost" parameterType="java.lang.Integer">
        delete from posts where postId=#{postId}
    </delete>
    <select id="updatePost" parameterType="org.example.pojo.Post" resultType="java.lang.Integer">
        update posts
        set postType=#{postType},postTitle=#{postTitle},postDetail=#{postDetail},userName=#{userName},
        openid=#{openid},postTime=#{postTime},postLike=#{postLike},postLove=#{postLove},
        postView=#{postView},postComment=#{postComment},postTop=#{postTop},postPop=#{postPop},
        where postId=#{postId}
    </select>

    <select id="getAllPost" resultType="org.example.pojo.Post">
        select * from posts where postType=#{postType}
        OR postTitle like "%"#{keyWord}"%" OR postDetail like "%"#{keyWord}"%" OR userName like "%"#{keyWord}"%"
        OR postTop=#{postTop} OR postPop=#{postPop}
    </select>

    <select id="getPostById" resultType="org.example.pojo.Post">
        select * from posts where postId=#{postId}
     </select>
</mapper>